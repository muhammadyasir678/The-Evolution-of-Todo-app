#0 building with "default" instance using docker driver

#1 [internal] load build definition from frontend.Dockerfile
#1 transferring dockerfile:
#1 transferring dockerfile: 1.47kB 0.0s done
#1 DONE 0.5s

#2 [internal] load metadata for docker.io/library/node:20-alpine
#2 DONE 2.3s

#3 [internal] load .dockerignore
#3 transferring context: 33B 0.0s
#3 transferring context: 311B 0.1s done
#3 DONE 0.4s

#4 [internal] load build context
#4 DONE 0.0s

#5 [builder 1/7] FROM docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#5 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8
#5 resolve docker.io/library/node:20-alpine@sha256:09e2b3d9726018aecf269bd35325f46bf75046a643a66d28360ec71132750ec8 0.6s done
#5 DONE 0.7s

#6 [production 3/9] RUN addgroup -g 1001 -S nodejs &&    adduser -S nextjs -u 1001
#6 CACHED

#7 [builder 2/7] WORKDIR /app
#7 CACHED

#8 [production 4/9] RUN apk add --no-cache dumb-init
#8 CACHED

#4 [internal] load build context
#4 transferring context: 23.41kB 3.9s
#4 transferring context: 26.07kB 4.4s done
#4 DONE 4.8s

#9 [builder 3/7] COPY package*.json ./
#9 CACHED

#10 [builder 4/7] RUN npm ci --only=production
#10 CACHED

#11 [builder 5/7] RUN npm install --no-save typescript
#11 CACHED

#12 [builder 6/7] COPY . .
#12 CACHED

#13 [builder 7/7] RUN npm run build
#13 3.142 
#13 3.142 > frontend@0.1.0 build
#13 3.142 > next build
#13 3.142 
#13 11.84 Attention: Next.js now collects completely anonymous telemetry regarding usage.
#13 11.84 This information is used to shape Next.js' roadmap and prioritize features.
#13 11.84 You can learn more, including how to opt-out if you'd not like to participate in this anonymous program, by visiting the following URL:
#13 11.84 https://nextjs.org/telemetry
#13 11.84 
#13 11.95 â–² Next.js 16.1.5 (Turbopack)
#13 11.95 
#13 12.23   Creating an optimized production build ...
#13 39.18 âœ“ Compiled successfully in 25.5s
#13 39.31   Running TypeScript ...
#13 51.39 Failed to compile.
#13 51.39 
#13 51.39 ./tests/test_chat_integration.ts:7:1
#13 51.39 Type error: Cannot find name 'jest'.
#13 51.39 
#13 51.39 [0m [90m  5 |[39m
#13 51.39  [90m  6 |[39m [90m// Mock the API functions[39m
#13 51.39 [31m[1m>[22m[39m[90m  7 |[39m jest[33m.[39mmock([32m'../lib/chatApi'[39m[33m,[39m () [33m=>[39m ({
#13 51.39  [90m    |[39m [31m[1m^[22m[39m
#13 51.39  [90m  8 |[39m   sendMessage[33m:[39m jest[33m.[39mfn()
#13 51.39  [90m  9 |[39m }))[33m;[39m
#13 51.39  [90m 10 |[39m[0m
#13 51.46 Next.js build worker exited with code: 1 and signal: null
#13 ERROR: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
------
 > [builder 7/7] RUN npm run build:
51.39 Type error: Cannot find name 'jest'.
51.39 
51.39 [0m [90m  5 |[39m
51.39  [90m  6 |[39m [90m// Mock the API functions[39m
51.39 [31m[1m>[22m[39m[90m  7 |[39m jest[33m.[39mmock([32m'../lib/chatApi'[39m[33m,[39m () [33m=>[39m ({
51.39  [90m    |[39m [31m[1m^[22m[39m
51.39  [90m  8 |[39m   sendMessage[33m:[39m jest[33m.[39mfn()
51.39  [90m  9 |[39m }))[33m;[39m
51.39  [90m 10 |[39m[0m
51.46 Next.js build worker exited with code: 1 and signal: null
------
frontend.Dockerfile:21
--------------------
  19 |     
  20 |     # Build the Next.js application
  21 | >>> RUN npm run build
  22 |     
  23 |     # Stage 2: Production stage with further optimizations
--------------------
ERROR: failed to build: failed to solve: process "/bin/sh -c npm run build" did not complete successfully: exit code: 1
