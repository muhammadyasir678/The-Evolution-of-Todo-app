# Default values for todo-app-v5.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

frontend:
  replicaCount: 1
  image:
    repository: todo-frontend
    pullPolicy: IfNotPresent
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""
  service:
    type: ClusterIP
    port: 3000
  resources:
    # We usually recommend not to specify default resources and to leave this as a conscious
    # choice for the user. This also increases chances charts run on environments with little
    # resources, such as Minikube. If you do want to specify resources, uncomment the following
    # lines, adjust them as necessary, and remove the curly braces after 'resources:'.
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80
    # targetMemoryUtilizationPercentage: 80

backend:
  replicaCount: 1
  image:
    repository: todo-backend
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8000
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 100
    targetCPUUtilizationPercentage: 80

mcpServer:
  replicaCount: 1
  image:
    repository: todo-mcp-server
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8080
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi

# New services for Phase V
recurringTaskService:
  replicaCount: 1
  image:
    repository: recurring-task-service
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8001
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

notificationService:
  replicaCount: 1
  image:
    repository: notification-service
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8002
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

auditService:
  replicaCount: 1
  image:
    repository: audit-service
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8003
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

websocketService:
  replicaCount: 1
  image:
    repository: websocket-service
    pullPolicy: IfNotPresent
    tag: ""
  service:
    type: ClusterIP
    port: 8004
  resources:
    limits:
      cpu: 100m
      memory: 128Mi
    requests:
      cpu: 100m
      memory: 128Mi
  autoscaling:
    enabled: false
    minReplicas: 1
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
    targetMemoryUtilizationPercentage: 80

# Additional settings for Phase V
kafka:
  brokers: "kafka.kafka.svc.cluster.local:9092"
  topics:
    taskEvents: "task-events"
    reminders: "reminders"
    taskUpdates: "task-updates"

dapr:
  enabled: true
  version: "1.9.0"
  components:
    pubsub:
      name: "kafka-pubsub"
    statestore:
      name: "postgresql-statestore"
    secretstore:
      name: "kubernetes-secret-store"

config:
  name: todo-config
  data:
    NEXT_PUBLIC_API_URL: "http://backend-service:8000"
    PORT: "3000"
    BACKEND_PORT: "8000"
    MCP_SERVER_PORT: "8080"
    RECURRING_TASK_SERVICE_PORT: "8001"
    NOTIFICATION_SERVICE_PORT: "8002"
    AUDIT_SERVICE_PORT: "8003"
    WEBSOCKET_SERVICE_PORT: "8004"

secrets:
  databaseUrl: ""
  openaiApiKey: ""
  authSecret: ""
  sendgridApiKey: ""

namespace: todo-app